# LIMS_FILE_CLIENT

## 说明
1. 本客户端作为实验室管理系统中分布式文件下载部分的客户端（相对于主文件服务器，每个实验室一个文件服务器），同时可以作为其他客户端下载文件的服务器，由主服务器来协调
2. 传输文件时使用TCP  发送命令时用UDP

## 工作流程
1. 学生用手机LIMS客户端扫描本客户端生成的二维码（包含设备ID  设备类型  设备IP信息）
2. 手机端发送设备借入请求到服务器
3. 设备类型为 “电脑” 时
4. 服务器根据设备所在位置找到对应的文件服务器IP，根据实验项目查找本次实验需要的实验资料文件列表，并将文件列表和本次借出的设备IP发送到文件服务器。由此启动文件分发流程。

## 文件分发流程
1. 文件服务器根据实验项目建立推送列表，存储已经推送完成的客户端信息，这些客户端和主文件服务器构成本次实验的文件服务器
2. 为本次下载的客户端分配临时文件服务器，将客户端IP发送的该“服务器”
3. 临时服务器将文件推送到客户端


### 主服务器职责
1. 记录客户端信息
2. 维护文件列表
3. 向临时服务器下发推送命令
4. 向客户端推送文件

### 客户端职责
1. 接收服务器的文件
2. 充当临时服务器，向其他客户端推送文件
3. 当文件接收完毕时报告主服务器
